import{j as e,C as s,g as t,h as a,R as r,c as i,d as n,I as l,F as d,T as c,a as o,B as u,e as m}from"./bootstrap-vendor-Bkx-TXZT.js";import{r as h}from"./react-vendor-Bo5og3pu.js";import{c as p,S as x}from"./search-DEXCn9wD.js";import{E as j}from"./eye-DJTbEhML.js";import{C as y}from"./circle-check-big-DX5Mcf47.js";import{C as v}from"./clock-B2cbagyH.js";import{U as g}from"./user-DVJBjNBv.js";
/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=p("reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]),f=p("store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]),b=p("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),A=[{id:1,subject:"Order not delivered",description:"I placed an order 2 hours ago but it has not been delivered yet.",category:"Delivery Issue",priority:"High",status:"Open",createdAt:"2023-09-25 14:30:00",updatedAt:"2023-09-25 14:30:00",source:"User",sourceId:3,sourceName:"Amit Kumar",assignedTo:"Support Team A",replies:[{id:1,message:"We are checking with the delivery partner and will update you soon.",sender:"Admin",senderName:"Support Team",timestamp:"2023-09-25 14:45:00"}]},{id:2,subject:"Refund not processed",description:"I cancelled my order but have not received the refund yet.",category:"Refund",priority:"Medium",status:"In Progress",createdAt:"2023-09-24 11:20:00",updatedAt:"2023-09-25 10:15:00",source:"User",sourceId:2,sourceName:"Priya Patel",assignedTo:"Support Team B",replies:[{id:1,message:"We have initiated the refund process. It will reflect in your account within 3-5 business days.",sender:"Admin",senderName:"Support Team",timestamp:"2023-09-24 12:30:00"},{id:2,message:"Thank you for the update. I will wait for the refund.",sender:"User",senderName:"Priya Patel",timestamp:"2023-09-24 13:45:00"}]},{id:3,subject:"Menu items not showing correctly",description:"Some of our menu items are not displaying correctly in the app.",category:"App Problem",priority:"Medium",status:"Resolved",createdAt:"2023-09-23 09:10:00",updatedAt:"2023-09-24 16:30:00",source:"Restaurant",sourceId:1,sourceName:"Spice Garden",assignedTo:"Support Team C",replies:[{id:1,message:"We are looking into this issue and will fix it as soon as possible.",sender:"Admin",senderName:"Support Team",timestamp:"2023-09-23 10:20:00"},{id:2,message:"The issue has been fixed. Please check your menu now.",sender:"Admin",senderName:"Support Team",timestamp:"2023-09-24 15:30:00"},{id:3,message:"Thank you! All menu items are now displaying correctly.",sender:"Restaurant",senderName:"Spice Garden",timestamp:"2023-09-24 16:15:00"}]},{id:4,subject:"Unable to update profile",description:"I am trying to update my profile but getting an error message.",category:"App Problem",priority:"Low",status:"Open",createdAt:"2023-09-25 13:00:00",updatedAt:"2023-09-25 13:00:00",source:"User",sourceId:4,sourceName:"Sneha Gupta",assignedTo:"Unassigned",replies:[]},{id:5,subject:"Wrong order delivered",description:"I received a different order than what I placed.",category:"Food Issue",priority:"High",status:"In Progress",createdAt:"2023-09-24 19:45:00",updatedAt:"2023-09-25 09:30:00",source:"User",sourceId:1,sourceName:"Rahul Sharma",assignedTo:"Support Team A",replies:[{id:1,message:"We apologize for the inconvenience. We are contacting the restaurant to resolve this issue.",sender:"Admin",senderName:"Support Team",timestamp:"2023-09-24 20:00:00"}]},{id:6,subject:"Payment issue",description:"I am unable to add a new payment method to my account.",category:"Payment",priority:"Medium",status:"Open",createdAt:"2023-09-25 11:30:00",updatedAt:"2023-09-25 11:30:00",source:"User",sourceId:6,sourceName:"Neha Reddy",assignedTo:"Unassigned",replies:[]},{id:7,subject:"Delivery area issue",description:"Our restaurant delivery area is not correctly set in the app.",category:"App Problem",priority:"Medium",status:"In Progress",createdAt:"2023-09-24 14:20:00",updatedAt:"2023-09-25 10:45:00",source:"Restaurant",sourceId:2,sourceName:"Tandoori Nights",assignedTo:"Support Team B",replies:[{id:1,message:"We are checking the delivery area settings and will update you soon.",sender:"Admin",senderName:"Support Team",timestamp:"2023-09-24 15:00:00"}]}];function w(){const[p,w]=h.useState(0),[S,I]=h.useState(0),[k,P]=h.useState(5),[C,T]=h.useState(""),[R,M]=h.useState("all"),[O,U]=h.useState("all"),[z,L]=h.useState("all"),[D,H]=h.useState(null),[W,B]=h.useState(""),K=e=>{I(e-1)},F=e=>{H(e)},G=A.filter((e=>{const s=e.subject.toLowerCase().includes(C.toLowerCase())||e.description.toLowerCase().includes(C.toLowerCase())||e.sourceName.toLowerCase().includes(C.toLowerCase()),t="all"===R||e.status===R,a="all"===O||e.category===O,r="all"===z||e.source===z;return s&&t&&a&&r})),q=s=>{switch(s){case"User":default:return e.jsx(g,{size:16});case"Restaurant":return e.jsx(f,{size:16});case"Delivery":return e.jsx(b,{size:16})}},V=e=>{switch(e){case"Open":return"danger";case"In Progress":return"warning";case"Resolved":return"success";default:return"secondary"}},E=e=>{switch(e){case"High":return"text-danger";case"Medium":return"text-warning";case"Low":return"text-info";default:return"text-secondary"}};return e.jsxs(s,{fluid:!0,children:[e.jsx("h4",{className:"mb-3",children:"Help & Support Management"}),e.jsxs(t,{activeKey:p,onSelect:e=>{w(parseInt(e))},className:"mb-3",id:"support-tabs",children:[e.jsx(a,{eventKey:0,title:"All Tickets"}),e.jsx(a,{eventKey:1,title:"Open"}),e.jsx(a,{eventKey:2,title:"In Progress"}),e.jsx(a,{eventKey:3,title:"Resolved"})]}),e.jsxs(r,{className:"g-3",children:[e.jsx(i,{xs:12,md:D?6:12,children:e.jsx(n,{className:"shadow-sm",children:e.jsxs(n.Body,{className:"p-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx("h5",{className:"mb-0",children:"Support Tickets"}),e.jsxs("div",{className:"d-flex gap-2 flex-wrap",children:[e.jsxs(l,{style:{width:"auto"},children:[e.jsx(l.Text,{children:e.jsx(x,{size:16})}),e.jsx(d.Control,{placeholder:"Search tickets",value:C,onChange:e=>{T(e.target.value),I(0)}})]}),e.jsxs(d.Select,{value:R,onChange:e=>{M(e.target.value),I(0)},style:{width:"auto"},children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"Open",children:"Open"}),e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"Resolved",children:"Resolved"})]}),e.jsxs(d.Select,{value:O,onChange:e=>{U(e.target.value),I(0)},style:{width:"auto"},children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"Food Issue",children:"Food Issue"}),e.jsx("option",{value:"Delivery Issue",children:"Delivery Issue"}),e.jsx("option",{value:"Refund",children:"Refund"}),e.jsx("option",{value:"App Problem",children:"App Problem"}),e.jsx("option",{value:"Payment",children:"Payment"})]}),e.jsxs(d.Select,{value:z,onChange:e=>{L(e.target.value),I(0)},style:{width:"auto"},children:[e.jsx("option",{value:"all",children:"All Sources"}),e.jsx("option",{value:"User",children:"User"}),e.jsx("option",{value:"Restaurant",children:"Restaurant"}),e.jsx("option",{value:"Delivery",children:"Delivery Partner"})]})]})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs(c,{hover:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"Subject"}),e.jsx("th",{children:"Source"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Priority"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Created"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:G.filter((e=>0===p||(1===p?"Open"===e.status:2===p?"In Progress"===e.status:3!==p||"Resolved"===e.status))).slice(S*k,S*k+k).map((s=>e.jsxs("tr",{className:D&&D.id===s.id?"table-active":"",onClick:()=>F(s),style:{cursor:"pointer"},children:[e.jsxs("td",{children:["#",s.id]}),e.jsx("td",{children:s.subject}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[q(s.source),e.jsx("span",{className:"ms-1",children:s.sourceName})]})}),e.jsx("td",{children:s.category}),e.jsx("td",{children:e.jsx("span",{className:E(s.priority),children:s.priority})}),e.jsx("td",{children:e.jsx(o,{bg:V(s.status),children:s.status})}),e.jsx("td",{children:s.createdAt}),e.jsx("td",{className:"text-center",children:e.jsx(u,{variant:"link",className:"p-1 text-info",onClick:e=>{e.stopPropagation(),F(s)},children:e.jsx(j,{size:16})})})]},s.id)))})]})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[e.jsxs(d.Select,{value:k,onChange:e=>{P(parseInt(e.target.value,10)),I(0)},style:{width:"auto"},children:[e.jsx("option",{value:5,children:"5 per page"}),e.jsx("option",{value:10,children:"10 per page"}),e.jsx("option",{value:25,children:"25 per page"})]}),e.jsxs(m,{children:[e.jsx(m.Prev,{onClick:()=>S>0&&K(S),disabled:0===S}),[...Array(Math.ceil(G.filter((e=>0===p||(1===p?"Open"===e.status:2===p?"In Progress"===e.status:3!==p||"Resolved"===e.status))).length/k))].map(((s,t)=>e.jsx(m.Item,{active:t===S,onClick:()=>K(t+1),children:t+1},t))),e.jsx(m.Next,{onClick:()=>S<Math.ceil(G.filter((e=>0===p||(1===p?"Open"===e.status:2===p?"In Progress"===e.status:3!==p||"Resolved"===e.status))).length/k)-1&&K(S+2),disabled:S>=Math.ceil(G.filter((e=>0===p||(1===p?"Open"===e.status:2===p?"In Progress"===e.status:3!==p||"Resolved"===e.status))).length/k)-1})]})]})]})})}),D&&e.jsx(i,{xs:12,md:6,children:e.jsx(n,{className:"shadow-sm",children:e.jsxs(n.Body,{className:"p-3",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[e.jsxs("h5",{children:["Ticket #",D.id,": ",D.subject]}),e.jsx(o,{bg:V(D.status),children:D.status})]}),e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"text-secondary small",children:["From: ",D.sourceName," (",D.source,")"]}),e.jsxs("div",{className:"text-secondary small",children:["Category: ",D.category]}),e.jsxs("div",{className:"text-secondary small",children:["Priority: ",D.priority]}),e.jsxs("div",{className:"text-secondary small",children:["Created: ",D.createdAt]}),e.jsxs("div",{className:"text-secondary small",children:["Assigned To: ",D.assignedTo]})]}),e.jsx("hr",{className:"my-3"}),e.jsx("div",{className:"fw-bold",children:"Description:"}),e.jsx("p",{children:D.description}),e.jsx("hr",{className:"my-3"}),e.jsx("div",{className:"fw-bold",children:"Conversation:"}),e.jsx("div",{className:"mt-3 mb-3",children:D.replies.length>0?D.replies.map((s=>e.jsx(n,{className:"mb-2",children:e.jsxs(n.Body,{className:"p-3",children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("div",{className:"d-flex align-items-center justify-content-center rounded-circle me-2 "+("Admin"===s.sender?"bg-primary":"bg-secondary"),style:{width:"32px",height:"32px",color:"white"},children:"Admin"===s.sender?"A":s.senderName.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold",children:s.senderName}),e.jsx("div",{className:"text-secondary small",children:s.timestamp})]})]}),e.jsx("div",{children:s.message})]})},s.id))):e.jsx("div",{className:"text-secondary text-center",children:"No replies yet."})}),e.jsxs("div",{className:"mt-3",children:[e.jsxs(d.Group,{className:"mb-3",children:[e.jsx(d.Label,{children:"Reply"}),e.jsx(d.Control,{as:"textarea",rows:3,value:W,onChange:e=>{B(e.target.value)}})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsxs("div",{children:[e.jsxs(u,{variant:"outline-success",className:"d-flex align-items-center me-2",children:[e.jsx(y,{size:16,className:"me-2"}),"Mark as Resolved"]}),e.jsxs(u,{variant:"outline-primary",className:"d-flex align-items-center",children:[e.jsx(v,{size:16,className:"me-2"}),"In Progress"]})]}),e.jsxs(u,{variant:"primary",className:"d-flex align-items-center",onClick:()=>{""!==W.trim()&&B("")},disabled:""===W.trim(),children:[e.jsx(N,{size:16,className:"me-2"}),"Send Reply"]})]})]})]})})})]})]})}export{w as default};
