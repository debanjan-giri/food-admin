import{j as e,C as s,R as a,c as t,B as r,d as i,F as l,I as n,T as d,a as c,e as o,M as m,O as x,f as h}from"./bootstrap-vendor-Bkx-TXZT.js";import{r as j,u}from"./react-vendor-Bo5og3pu.js";import{V as b}from"./VirtualList-lUP0XToT.js";import{P as p}from"./plus-circle-CEKBLH0s.js";import{a as k}from"./index-CimtgLIT.js";import{G as y,S as v}from"./slash-circle-mBX3Cwex.js";import{E as N}from"./eye-DQ3WvKjO.js";import{P as g,T as S}from"./trash-1BbH3WiR.js";import{C}from"./check-circle-CBnAP2vG.js";const f=[{id:1,name:"Spice Garden",address:"123 Main St, Mumbai",mobile:"+91 9876543210",ordersToday:45,totalOrders:1245,connectedUsers:320,todaySales:12500,subscriptionStatus:"Pro",isBlocked:!1},{id:2,name:"Tandoori Nights",address:"456 Park Ave, Delhi",mobile:"+91 9876543211",ordersToday:32,totalOrders:987,connectedUsers:210,todaySales:8900,subscriptionStatus:"Freemium",isBlocked:!1},{id:3,name:"Curry House",address:"789 Oak St, Bangalore",mobile:"+91 9876543212",ordersToday:28,totalOrders:765,connectedUsers:180,todaySales:7600,subscriptionStatus:"Pro",isBlocked:!0},{id:4,name:"Biryani Palace",address:"101 Pine St, Hyderabad",mobile:"+91 9876543213",ordersToday:56,totalOrders:1567,connectedUsers:420,todaySales:15800,subscriptionStatus:"Pro",isBlocked:!1},{id:5,name:"Dosa Corner",address:"202 Maple St, Chennai",mobile:"+91 9876543214",ordersToday:38,totalOrders:1123,connectedUsers:290,todaySales:9200,subscriptionStatus:"Freemium",isBlocked:!1}],w=j.memo((({restaurant:s,onViewRestaurant:a,onShowModal:t,onNavigateEdit:i})=>e.jsxs("tr",{children:[e.jsx("td",{children:s.name}),e.jsx("td",{children:s.address}),e.jsx("td",{children:s.mobile}),e.jsx("td",{className:"text-end",children:s.ordersToday}),e.jsx("td",{className:"text-end",children:s.totalOrders}),e.jsx("td",{className:"text-end",children:s.connectedUsers}),e.jsx("td",{className:"text-end",children:s.todaySales}),e.jsx("td",{children:e.jsx(c,{bg:"Pro"===s.subscriptionStatus?"primary":"secondary",children:s.subscriptionStatus})}),e.jsx("td",{children:e.jsx(c,{bg:s.isBlocked?"danger":"success",children:s.isBlocked?"Blocked":"Active"})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-center",children:[e.jsx(x,{placement:"top",overlay:e.jsx(h,{children:"View Details"}),children:e.jsx(r,{variant:"link",className:"p-1 text-info",onClick:()=>a(s.id),children:e.jsx(N,{size:18})})}),e.jsx(x,{placement:"top",overlay:e.jsx(h,{children:"Edit"}),children:e.jsx(r,{variant:"link",className:"p-1 text-primary",onClick:()=>i(s.id),children:e.jsx(g,{size:18})})}),e.jsx(x,{placement:"top",overlay:e.jsx(h,{children:s.isBlocked?"Unblock":"Block"}),children:e.jsx(r,{variant:"link",className:"p-1 "+(s.isBlocked?"text-success":"text-warning"),onClick:()=>t(s,s.isBlocked?"unblock":"block"),children:s.isBlocked?e.jsx(C,{size:18}):e.jsx(v,{size:18})})}),e.jsx(x,{placement:"top",overlay:e.jsx(h,{children:"Delete"}),children:e.jsx(r,{variant:"link",className:"p-1 text-danger",onClick:()=>t(s,"delete"),children:e.jsx(S,{size:18})})})]})})]},s.id)));const B=j.memo((function(){const x=u(),[h,v]=j.useState(1),[N,g]=j.useState(5),[S,C]=j.useState(""),[B,T]=j.useState(!1),[O,A]=j.useState(null),[P,M]=j.useState(""),[I,U]=j.useState(!1),z=j.useCallback((e=>{v(e)}),[]),L=j.useCallback((e=>{g(parseInt(e.target.value,10)),v(1)}),[]),R=j.useCallback((e=>{C(e.target.value),v(1)}),[]),V=j.useCallback((e=>{x(`/restaurants/${e}`)}),[x]),F=j.useCallback((e=>{x(`/restaurants/edit/${e}`)}),[x]),D=j.useCallback(((e,s)=>{A(e),M(s),T(!0)}),[]),H=j.useCallback((()=>{T(!1)}),[]),$=j.useCallback((()=>{T(!1)}),[P,O]),E=j.useCallback((()=>{U((e=>!e))}),[]),G=j.useMemo((()=>f.filter((e=>e.name.toLowerCase().includes(S.toLowerCase())||e.address.toLowerCase().includes(S.toLowerCase())||e.mobile.includes(S)))),[S]),{indexOfFirstItem:q,indexOfLastItem:J,totalPages:K,currentItems:Q}=j.useMemo((()=>{const e=h*N,s=e-N;return{indexOfFirstItem:s,indexOfLastItem:e,totalPages:Math.ceil(G.length/N),currentItems:G.slice(s,e)}}),[h,N,G]);return e.jsxs(s,{fluid:!0,children:[e.jsxs(a,{className:"mb-4 align-items-center",children:[e.jsx(t,{children:e.jsx("h4",{children:"Restaurant Management"})}),e.jsx(t,{xs:"auto",children:e.jsxs(r,{variant:"primary",onClick:()=>x("/restaurants/new"),className:"d-flex align-items-center",children:[e.jsx(p,{className:"me-2"})," Add Restaurant"]})})]}),e.jsx(i,{className:"mb-4 shadow-sm",children:e.jsxs(i.Body,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx(l,{className:"flex-grow-1 me-3",children:e.jsxs(n,{children:[e.jsx(n.Text,{children:e.jsx(k,{})}),e.jsx(l.Control,{placeholder:"Search by name, location, or phone number",value:S,onChange:R})]})}),e.jsx(r,{variant:"outline-primary",size:"sm",onClick:E,className:"d-flex align-items-center",children:I?"Standard View":"Virtual List"})]}),I?e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"table-responsive",children:e.jsx(d,{hover:!0,children:e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Address"}),e.jsx("th",{children:"Mobile"}),e.jsx("th",{className:"text-end",children:"Today's Orders"}),e.jsx("th",{className:"text-end",children:"Total Orders"}),e.jsx("th",{className:"text-end",children:"Connected Users"}),e.jsx("th",{className:"text-end",children:"Today's Sales (₹)"}),e.jsx("th",{children:"Subscription"}),e.jsx("th",{children:"Status"}),e.jsx("th",{className:"text-center",children:"Actions"})]})})})}),e.jsx("div",{style:{height:"500px"},children:e.jsx(b,{items:G,itemHeight:60,height:500,overscan:5,renderItem:s=>e.jsx("div",{className:"py-2 border-bottom",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"rounded-circle bg-primary text-white d-flex align-items-center justify-content-center me-2",style:{width:36,height:36,fontSize:"0.9rem"},children:s.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:s.name}),e.jsxs("div",{className:"d-flex align-items-center small text-muted",children:[e.jsx(y,{size:12,className:"me-1"}),s.address]})]})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(c,{bg:"Pro"===s.subscriptionStatus?"primary":"secondary",className:"me-2",children:s.subscriptionStatus}),e.jsx(c,{bg:s.isBlocked?"danger":"success",className:"me-2",children:s.isBlocked?"Blocked":"Active"}),e.jsx(r,{variant:"outline-primary",size:"sm",onClick:()=>V(s.id),children:"View"})]})]})},s.id)})})]}):e.jsx("div",{className:"table-responsive",children:e.jsxs(d,{hover:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Address"}),e.jsx("th",{children:"Mobile"}),e.jsx("th",{className:"text-end",children:"Today's Orders"}),e.jsx("th",{className:"text-end",children:"Total Orders"}),e.jsx("th",{className:"text-end",children:"Connected Users"}),e.jsx("th",{className:"text-end",children:"Today's Sales (₹)"}),e.jsx("th",{children:"Subscription"}),e.jsx("th",{children:"Status"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:Q.map((s=>e.jsx(w,{restaurant:s,onViewRestaurant:V,onShowModal:D,onNavigateEdit:F},s.id)))})]})}),e.jsxs(a,{className:"mt-3 align-items-center",children:[e.jsx(t,{xs:12,md:6,className:"mb-2 mb-md-0",children:e.jsxs(l.Select,{style:{width:"auto"},value:N,onChange:L,children:[e.jsx("option",{value:5,children:"5 per page"}),e.jsx("option",{value:10,children:"10 per page"}),e.jsx("option",{value:25,children:"25 per page"})]})}),e.jsx(t,{xs:12,md:6,children:e.jsxs(o,{className:"justify-content-md-end",children:[e.jsx(o.First,{onClick:()=>z(1),disabled:1===h}),e.jsx(o.Prev,{onClick:()=>z(h-1),disabled:1===h}),[...Array(K)].map(((s,a)=>e.jsx(o.Item,{active:a+1===h,onClick:()=>z(a+1),children:a+1},a+1))),e.jsx(o.Next,{onClick:()=>z(h+1),disabled:h===K}),e.jsx(o.Last,{onClick:()=>z(K),disabled:h===K})]})})]})]})}),e.jsxs(m,{show:B,onHide:H,centered:!0,children:[e.jsx(m.Header,{closeButton:!0,children:e.jsx(m.Title,{children:"delete"===P?"Delete Restaurant":"block"===P?"Block Restaurant":"Unblock Restaurant"})}),e.jsx(m.Body,{children:"delete"===P?`Are you sure you want to delete ${null==O?void 0:O.name}? This action cannot be undone.`:"block"===P?`Are you sure you want to block ${null==O?void 0:O.name}? This will prevent them from accepting orders.`:`Are you sure you want to unblock ${null==O?void 0:O.name}? This will allow them to accept orders again.`}),e.jsxs(m.Footer,{children:[e.jsx(r,{variant:"secondary",onClick:H,children:"Cancel"}),e.jsx(r,{variant:"delete"===P?"danger":"block"===P?"warning":"success",onClick:$,children:"Confirm"})]})]})]})}));export{B as default};
