import{j as e,C as s,d as a,F as t,I as n,B as r,T as i,a as l,e as c,M as d,O as o,f as h}from"./bootstrap-vendor-Bkx-TXZT.js";import{r as m,u as x}from"./react-vendor-Bo5og3pu.js";import{V as u}from"./VirtualList-lUP0XToT.js";import{a as j,S as p}from"./index-CimtgLIT.js";import{G as v,S as y}from"./slash-circle-mBX3Cwex.js";import{T as N}from"./telephone-ClJHxRAg.js";import{E as g}from"./eye-DQ3WvKjO.js";import{C as b}from"./check-circle-CBnAP2vG.js";const f=[{id:1,name:"Rahul Sharma",location:"Mumbai, Maharashtra",phone:"+91 9876543210",connectedRestaurants:5,ordersToday:2,totalOrders:45,status:"active"},{id:2,name:"Priya Patel",location:"Delhi, Delhi",phone:"+91 9876543211",connectedRestaurants:3,ordersToday:1,totalOrders:32,status:"active"},{id:3,name:"Amit Kumar",location:"Bangalore, Karnataka",phone:"+91 9876543212",connectedRestaurants:7,ordersToday:0,totalOrders:67,status:"suspended"},{id:4,name:"Sneha Gupta",location:"Hyderabad, Telangana",phone:"+91 9876543213",connectedRestaurants:4,ordersToday:3,totalOrders:51,status:"active"},{id:5,name:"Vikram Singh",location:"Chennai, Tamil Nadu",phone:"+91 9876543214",connectedRestaurants:2,ordersToday:0,totalOrders:28,status:"banned"},{id:6,name:"Neha Reddy",location:"Pune, Maharashtra",phone:"+91 9876543215",connectedRestaurants:6,ordersToday:1,totalOrders:39,status:"active"},{id:7,name:"Rajesh Khanna",location:"Kolkata, West Bengal",phone:"+91 9876543216",connectedRestaurants:3,ordersToday:0,totalOrders:22,status:"active"}],C=m.memo((({user:s,onViewUser:a,onOpenDialog:t,getStatusVariant:n})=>e.jsxs("tr",{children:[e.jsx("td",{children:s.name}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(v,{size:16,className:"me-2 text-secondary"}),s.location]})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(N,{size:16,className:"me-2 text-secondary"}),s.phone]})}),e.jsx("td",{className:"text-end",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-end",children:[e.jsx(p,{size:16,className:"me-2 text-secondary"}),s.connectedRestaurants]})}),e.jsx("td",{className:"text-end",children:s.ordersToday}),e.jsx("td",{className:"text-end",children:s.totalOrders}),e.jsx("td",{children:e.jsx(l,{bg:n(s.status),children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"d-flex justify-content-center",children:[e.jsx(o,{placement:"top",overlay:e.jsx(h,{children:"View Profile"}),children:e.jsx(r,{variant:"link",className:"p-1 text-info",onClick:()=>a(s.id),children:e.jsx(g,{size:18})})}),"active"===s.status&&e.jsx(o,{placement:"top",overlay:e.jsx(h,{children:"Suspend User"}),children:e.jsx(r,{variant:"link",className:"p-1 text-warning",onClick:()=>t(s,"suspend"),children:e.jsx(y,{size:18})})}),"active"===s.status&&e.jsx(o,{placement:"top",overlay:e.jsx(h,{children:"Ban User"}),children:e.jsx(r,{variant:"link",className:"p-1 text-danger",onClick:()=>t(s,"ban"),children:e.jsx(y,{size:18})})}),("suspended"===s.status||"banned"===s.status)&&e.jsx(o,{placement:"top",overlay:e.jsx(h,{children:"Activate User"}),children:e.jsx(r,{variant:"link",className:"p-1 text-success",onClick:()=>t(s,"activate"),children:e.jsx(b,{size:18})})})]})})]},s.id))),k=e=>{switch(e){case"active":return"success";case"suspended":return"warning";case"banned":return"danger";default:return"secondary"}};const w=m.memo((function(){const o=x(),[h,p]=m.useState(0),[y,N]=m.useState(5),[g,b]=m.useState(""),[w,S]=m.useState(!1),[T,O]=m.useState(null),[R,A]=m.useState(""),[z,M]=m.useState(!1),U=m.useCallback(((e,s)=>{p(s)}),[]),V=m.useCallback((e=>{N(parseInt(e.target.value,10)),p(0)}),[]),B=m.useCallback((e=>{b(e.target.value),p(0)}),[]),L=m.useCallback((e=>{o(`/users/${e}`)}),[o]),P=m.useCallback(((e,s)=>{O(e),A(s),S(!0)}),[]),D=m.useCallback((()=>{S(!1)}),[]),H=m.useCallback((()=>{S(!1)}),[R,T]),I=m.useCallback((()=>{M((e=>!e))}),[]),K=m.useMemo((()=>f.filter((e=>e.name.toLowerCase().includes(g.toLowerCase())||e.location.toLowerCase().includes(g.toLowerCase())||e.phone.includes(g)))),[g]);return e.jsxs(s,{fluid:!0,children:[e.jsx("h4",{className:"mb-4",children:"User Management"}),e.jsx(a,{className:"mb-4 shadow-sm",children:e.jsxs(a.Body,{children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx(t,{className:"flex-grow-1 me-3",children:e.jsxs(n,{children:[e.jsx(n.Text,{children:e.jsx(j,{})}),e.jsx(t.Control,{placeholder:"Search by name, location, or phone number",value:g,onChange:B})]})}),e.jsx(r,{variant:"outline-primary",size:"sm",onClick:I,className:"d-flex align-items-center",children:z?"Standard View":"Virtual List"})]}),z?e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"table-responsive",children:e.jsx(i,{hover:!0,children:e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Location"}),e.jsx("th",{children:"Phone Number"}),e.jsx("th",{className:"text-end",children:"Connected Restaurants"}),e.jsx("th",{className:"text-end",children:"Orders Today"}),e.jsx("th",{className:"text-end",children:"Total Orders"}),e.jsx("th",{children:"Status"}),e.jsx("th",{className:"text-center",children:"Actions"})]})})})}),e.jsx("div",{style:{height:"500px"},children:e.jsx(u,{items:K,itemHeight:60,height:500,overscan:5,renderItem:s=>e.jsx("div",{className:"py-2 border-bottom",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"rounded-circle bg-primary text-white d-flex align-items-center justify-content-center me-2",style:{width:36,height:36,fontSize:"0.9rem"},children:s.name.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-medium",children:s.name}),e.jsxs("div",{className:"d-flex align-items-center small text-muted",children:[e.jsx(v,{size:12,className:"me-1"}),s.location]})]})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(l,{bg:k(s.status),className:"me-2",children:s.status.charAt(0).toUpperCase()+s.status.slice(1)}),e.jsx(r,{variant:"outline-primary",size:"sm",onClick:()=>L(s.id),children:"View"})]})]})},s.id)})})]}):e.jsx("div",{className:"table-responsive",children:e.jsxs(i,{hover:!0,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Location"}),e.jsx("th",{children:"Phone Number"}),e.jsx("th",{className:"text-end",children:"Connected Restaurants"}),e.jsx("th",{className:"text-end",children:"Orders Today"}),e.jsx("th",{className:"text-end",children:"Total Orders"}),e.jsx("th",{children:"Status"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:K.slice(h*y,h*y+y).map((s=>e.jsx(C,{user:s,onViewUser:L,onOpenDialog:P,getStatusVariant:k},s.id)))})]})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[e.jsx("div",{children:e.jsxs(t.Select,{value:y,onChange:V,className:"d-inline-block w-auto",children:[e.jsx("option",{value:5,children:"5 per page"}),e.jsx("option",{value:10,children:"10 per page"}),e.jsx("option",{value:25,children:"25 per page"})]})}),e.jsxs(c,{children:[e.jsx(c.Prev,{onClick:()=>U(null,Math.max(0,h-1)),disabled:0===h}),[...Array(Math.ceil(K.length/y)).keys()].map((s=>e.jsx(c.Item,{active:s===h,onClick:()=>U(null,s),children:s+1},s))),e.jsx(c.Next,{onClick:()=>U(null,Math.min(Math.ceil(K.length/y)-1,h+1)),disabled:h>=Math.ceil(K.length/y)-1})]})]})]})}),e.jsxs(d,{show:w,onHide:D,children:[e.jsx(d.Header,{closeButton:!0,children:e.jsx(d.Title,{children:"ban"===R?"Ban User":"suspend"===R?"Suspend User":"Activate User"})}),e.jsx(d.Body,{children:"ban"===R?`Are you sure you want to ban ${null==T?void 0:T.name}? This will prevent them from using the app completely.`:"suspend"===R?`Are you sure you want to suspend ${null==T?void 0:T.name}? This will temporarily restrict their access.`:`Are you sure you want to activate ${null==T?void 0:T.name}? This will restore their full access to the app.`}),e.jsxs(d.Footer,{children:[e.jsx(r,{variant:"secondary",onClick:D,children:"Cancel"}),e.jsx(r,{variant:"ban"===R?"danger":"suspend"===R?"warning":"success",onClick:H,children:"Confirm"})]})]})]})}));export{w as default};
